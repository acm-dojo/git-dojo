你们如果是因为标题吸引进来的，跳过了前面的介绍部分，建议先回去看看前面的内容。这里我要讲一些黑魔法，来减少你们 “删掉仓库重开” 的频率。

在这一章节我主要介绍：如果你在 Commit 之后发现问题（比如你不小心把密钥提交上去，又或者说你想要修改刚刚的 Commit 信息），你该怎么办？你显然不太希望别人看到你的错误，新建一个 Commit 是掩耳盗铃，毕竟 Git 是时光机。

## 修改最后一次提交

如果你刚刚提交了代码，但发现了一些小问题，比如拼写错误、忘记添加文件，或者想要修改提交信息，你可以使用：

```bash
git commit --amend
```

这个命令会打开文本编辑器让你修改提交信息，取决于你的配置，默认应该是 Vim。

如果你还想添加一些文件（或者修改一些文件）到这次提交中，你可以在运行 `git commit --amend` 之前先将文件添加到暂存区：

```bash
git add forgotten_file.txt
git commit --amend
```

这样，`forgotten_file.txt` 会被添加到上一次的提交中。

---

> **以下内容不需要掌握，但是了解一下总没有坏处**。你事实上有可能在以后用到它们。

## 撤销提交但保留更改

如果你想撤销最后一次提交，但保留文件的修改：

```bash
git reset --soft HEAD~1
```

这样提交就被撤销了，但你的更改还在暂存区中。

## 完全撤销提交和更改

如果你想完全回到上一次提交的状态：

```bash
git reset --hard HEAD~1
```

> ⚠️ **警告**：这会永久删除你的更改，请谨慎使用！

## 修改历史提交信息

如果你需要修改更早的提交信息，可以使用交互式 rebase：

```bash
git rebase -i HEAD~n
```

其中 `n` 是你想要回溯的提交数量。这会打开一个文本编辑器，列出最近的 `n` 次提交。你可以将 `pick` 改为 `reword` 来修改提交信息，或者 `edit` 来修改提交内容。

---

在最后我还是要提一嘴，**如果你已经把错误的提交推送到远程仓库，并且其他人可能已经基于这些提交进行了工作，修改历史会导致问题。** 因为你事实上**不是简单的“修改了提交内容”**，**而是“创建了新的提交替换了旧的提交”**，还记得 Git 的提交总有 “PARENT” 这回事吗？如果其他人基于错误的 PARENT 进行了工作，你修改了 PARENT 之后，他们的工作就会变得不可用。

---

## 任务卡

我们在 `~/dojo-amend` 中准备好了一个只有一条提交的小仓库。那次提交的信息写得太含糊，而且 README 也不好。请按照下面的步骤修复它：

打开 `README.md`，把内容改成 `# ACM Dojo`。并且把提交信息改成 `feat: I love dojo`。

确保仓库依旧只有一条提交、工作区干干净净，然后运行 `/challenge/submit` 验证结果。